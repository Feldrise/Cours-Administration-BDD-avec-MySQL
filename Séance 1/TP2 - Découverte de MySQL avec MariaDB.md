# Travaux Pratiques : D√©couverte de MySQL avec MariaDB

---

## Partie 1 : Configuration initiale, cr√©ation et exploration de la base de donn√©es
**Dur√©e estim√©e : 20 minutes**

### Objectifs
- V√©rifier et comprendre la bonne installation de MariaDB.
- Explorer l'interface en ligne de commande de MySQL.
- Cr√©er une premi√®re base de donn√©es et explorer ses propri√©t√©s.
- Apprendre √† lister les bases de donn√©es existantes.

### √âtapes
1. **V√©rification de l'installation**
    - Ouvrez le terminal ou l'invite de commandes.
    - Connectez-vous √† MariaDB avec l'utilisateur `root` :
      ```bash
      mysql -u root -p
      ```
      Entrez le mot de passe d√©fini lors de l'installation de MariaDB. Si vous vous connectez avec succ√®s, vous √™tes pr√™t √† continuer! üéâ
      
2. **Exploration de l'interface CLI**
    - Pour obtenir une liste des commandes disponibles, tapez :
      ```sql
      HELP;
      ```
      Prenez un moment pour explorer quelques commandes. Ne vous inqui√©tez pas, vous n'avez pas besoin de tout m√©moriser maintenant. C'est juste pour vous donner une id√©e de ce qui est possible! üßê
      
3. **Cr√©ation et exploration de la base de donn√©es**
    - Cr√©ez une nouvelle base de donn√©es appel√©e `maPremiereBDD` :
      ```sql
      CREATE DATABASE maPremiereBDD;
      ```
    - V√©rifiez que votre base de donn√©es a √©t√© cr√©√©e en listant toutes les bases de donn√©es :
      ```sql
      SHOW DATABASES;
      ```
      Vous devriez voir `maPremiereBDD` dans la liste! üìò
      
    - S√©lectionnez et explorez la base de donn√©es `maPremiereBDD` :
      ```sql
      USE maPremiereBDD;
      ```
    - V√©rifiez les tables existantes (il ne devrait y en avoir aucune pour le moment) :
      ```sql
      SHOW TABLES;
      ```
      C'est normal que rien ne s'affiche, nous n'avons pas encore cr√©√© de table! üöß

---

# Travaux Pratiques : D√©couverte de MySQL avec MariaDB

---

## Partie 2 : Cr√©ation de tables et mod√©lisation basique
**Dur√©e estim√©e : 20 minutes**

### Objectifs
- Ma√Ætriser la cr√©ation de tables.
- Comprendre la d√©finition des types de donn√©es dans MySQL.
- Explorer la mise en place de relations entre les tables.

### √âtapes

1. **Table `etudiants`**
   
    Cr√©ez une table `etudiants` avec les champs suivants :
    - `id` (num√©ro d'identification unique, auto-incr√©ment√©)
    - `nom` (cha√Æne de caract√®res de 50 caract√®res maximum)
    - `prenom` (cha√Æne de caract√®res de 50 caract√®res maximum)
    - `email` (cha√Æne de caract√®res de 100 caract√®res maximum)
    - `date_naissance` (date)

    Exemple de code:
    ```sql
    CREATE TABLE etudiants (
        id INT AUTO_INCREMENT PRIMARY KEY,
        nom VARCHAR(50),
        prenom VARCHAR(50),
        email VARCHAR(100) UNIQUE,
        date_naissance DATE
    );
    ```
    Vous avez maintenant une table pour stocker les informations des √©tudiants. üéâ

2. **Table `cours`**

    Cr√©ez une autre table `cours` pour stocker les informations sur diff√©rents cours offerts :
    - `id` (identifiant unique, auto-incr√©ment√©)
    - `nom` (cha√Æne de caract√®res de 100 caract√®res maximum)
    - `description` (texte)

    ```sql
    CREATE TABLE cours (
        id INT AUTO_INCREMENT PRIMARY KEY,
        nom VARCHAR(100),
        description TEXT
    );
    ```

    Bravo ! Vous venez d'ajouter une autre table. üìö

3. **Table `inscription`**

    Cette table servira √† relier les √©tudiants aux cours auxquels ils sont inscrits :
    - `id` (identifiant unique, auto-incr√©ment√©)
    - `id_etudiant` (r√©f√©rence √† la table `etudiants`)
    - `id_cours` (r√©f√©rence √† la table `cours`)
    - `date_inscription` (date et heure)

    ```sql
    CREATE TABLE inscription (
        id INT AUTO_INCREMENT PRIMARY KEY,
        id_etudiant INT,
        id_cours INT,
        date_inscription DATETIME DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (id_etudiant) REFERENCES etudiants(id),
        FOREIGN KEY (id_cours) REFERENCES cours(id)
    );
    ```

    Avec cette table, vous avez mis en place des relations entre les tables ! üåê

4. **Exercice pratique**

    Essayez de cr√©er une nouvelle table `professeurs` avec des champs que vous jugez pertinents (comme `id`, `nom`, `prenom`, `email`, `matiere`, etc.). C'est l'occasion d'appliquer ce que vous avez appris. üòä

**Temps d'√©change**

Discutez avec vos camarades des choix que vous avez faits pour la table `professeurs`. Quels champs avez-vous ajout√©s? Pourquoi? Partagez vos raisons et comparez avec les choix des autres.

J'esp√®re que cette partie a √©clairci le processus de cr√©ation de tables et la mise en place de relations entre elles dans MySQL. √Ä la prochaine √©tape ! üöÄüë©‚Äçüíªüë®‚Äçüíª

---

# Partie 3 : Insertion et manipulation de donn√©es
**Dur√©e estim√©e : 20 minutes**

### Objectifs
- Ins√©rer des donn√©es dans diff√©rentes tables.
- Comprendre les relations entre diff√©rentes tables.
- Apprendre √† mettre √† jour et supprimer des enregistrements.

### √âtapes

1. **Insertion d'√©tudiants**

    Vous allez d'abord ajouter plus d'√©tudiants dans la table `etudiants`. Utilisez la commande `INSERT`.

    Exemple :
    ```sql
    INSERT INTO etudiants (nom, prenom, email)
    VALUES ('Lefevre', 'Emilie', 'emilie.lefevre@email.com'),
           ('Bernard', 'Nicolas', 'nicolas.bernard@email.com'),
           ('Leroy', 'Alice', 'alice.leroy@email.com');
    ```

    üë©‚Äçüíª Votre exercice : Ajoutez encore 5 √©tudiants de votre choix.

2. **Insertion de professeurs**

    Maintenant, ajoutons des professeurs √† la table `professeurs`. Supposons que cette table ait des champs tels que `id`, `nom`, `prenom`, `annees_experience` et `matiere`.

    Exemple :
    ```sql
    INSERT INTO professeurs (nom, prenom, matiere)
    VALUES ('Blanchard', 'Christophe', 'Informatique'),
           ('Morel', 'Sophie', 'Math√©matiques');
    ```

    üë®‚Äçüè´ Votre exercice : Ajoutez encore 3 professeurs avec leurs sp√©cialit√©s respectives.

3. **Insertion de cours**
    Exemple :
    ```sql
    INSERT INTO cours (nom_cours, id_professeur)
    VALUES ('Programmation en C', 'Un super cours sur un des plus ancien langage encore actif'),
           ('Analyse math√©matique', 'Des maths, on vous vois les dev qui veulent juste fuires üòâ');
    ```

    üìö Votre exercice : Ajoutez 2 cours suppl√©mentaires.

4. **Insertion d'inscriptions**

    On sait que la table `inscription` a les champs `id_etudiant`, `id_cours`, et `date_inscription`.

    Exemple :
    ```sql
    INSERT INTO inscription (id_etudiant, id_cours, date_inscription)
    VALUES (1, 1, '2023-10-09'),   -- Supposons que l'√©tudiant 1 s'inscrive au cours 1 aujourd'hui
           (2, 2, '2023-10-09');   -- Et que l'√©tudiant 2 s'inscrive au cours 2 aujourd'hui
    ```

    üìÖ Votre exercice : Inscrivez 3 autres √©tudiants √† des cours vari√©s. Vous pouvez m√™me inscrire un √©tudiant √† plusieurs cours!

5. **Mise √† jour d'enregistrements**

    Parfois, nous devons corriger ou mettre √† jour des informations. Utilisez la commande `UPDATE`.

    Exemple : Mettons √† jour l'email d'Emilie Lefevre :
    ```sql
    UPDATE etudiants
    SET email = 'emilie.updated@email.com'
    WHERE nom = 'Lefevre' AND prenom = 'Emilie';
    ```

    üîÑ Votre exercice : Changez la mati√®re choisi par un des √©tudiants que vous avez ajout√©s.

6. **Suppression d'enregistrements**

    Si vous souhaitez supprimer un enregistrement, utilisez la commande `DELETE`. Attention, faites cela avec prudence !

    Exemple : Supprimer un √©tudiant par son email :
    ```sql
    DELETE FROM etudiants WHERE email = 'emilie.updated@email.com';
    ```

    ‚ùå Votre exercice : Supprimez l'un des cours que vous avez ajout√©s (et assurez-vous de bien supprimer les inscriptions associ√©es).


---

# Partie 4 : Consultation et Manipulation des Enregistrements

**Dur√©e estim√©e : 30 minutes**

### Objectifs

- Ma√Ætriser les requ√™tes SQL basiques pour la consultation des donn√©es.
- Explorer les m√©thodes pour filtrer, trier et joindre les tables.
- Utiliser des fonctions d'agr√©gation pour r√©sumer des donn√©es.

### √âtapes

1. **Affichage Basique**
   
   Commencez par afficher tous les √©tudiants de la table `etudiants` :
    ```sql
    SELECT * FROM etudiants;
    ```

2. **Filtrage des R√©sultats**

   Utilisez la clause `WHERE` pour filtrer les √©tudiants ayant le nom 'Doe' :
    <!-- ```sql
    SELECT * FROM etudiants WHERE nom = 'Doe';
    ``` -->
   
   Essayez de filtrer les professeurs ayant plus de 10 ans d'exp√©rience :
   <!-- ```sql
   SELECT * FROM professeurs WHERE annees_experience > 10;
   ``` -->

3. **Trier les R√©sultats**

   Triez tous les cours par leur nom de mani√®re ascendante :
   <!-- ```sql
   SELECT * FROM cours ORDER BY nom ASC;
   ``` -->

4. **Jointures entre les Tables**

   Utilisez une jointure `INNER JOIN` pour r√©cup√©rer la liste des √©tudiants inscrits √† un cours
    <!-- ```sql
    SELECT etudiants.nom, etudiants.prenom, cours.nom
    FROM inscription
    INNER JOIN etudiants ON inscription.etudiant_id = etudiants.id
    INNER JOIN cours ON inscription.cours_id = cours.id;
    ``` -->

5. **Fonctions d'Agr√©gation**

   Comptez le nombre total d'√©tudiants inscrits √† chaque cours
    <!-- ```sql
    SELECT cours.nom_cours, COUNT(etudiants.id) AS nombre_etudiants
    FROM inscription
    INNER JOIN cours ON inscription.cours_id = cours.id
    INNER JOIN etudiants ON inscription.etudiant_id = etudiants.id
    GROUP BY cours.nom_cours;
    ``` -->

<!-- 6. **Requ√™tes Combin√©es**

   Essayez d'obtenir la liste des professeurs qui n'ont pas de cours assign√©s. Pour cela, utilisez une combinaison de `LEFT JOIN` et `WHERE` :
   ```sql
   SELECT professeurs.nom, professeurs.prenom
   FROM professeurs
   LEFT JOIN cours ON professeurs.id = cours.professeur_id
   WHERE cours.id IS NULL;
   ``` -->

6. **Bonus: Sous-requ√™tes**

   Trouvez le nom du cours ayant le plus d'√©tudiants inscrits. Pour cela, utilisez une sous-requ√™te
    <!-- ```sql
    SELECT nom_cours, COUNT(etudiant_id) AS nombre_etudiants
    FROM inscription
    INNER JOIN cours ON inscription.cours_id = cours.id
    GROUP BY nom_cours
    HAVING nombre_etudiants = (SELECT MAX(count_etudiant) FROM (SELECT COUNT(etudiant_id) AS count_etudiant FROM inscription GROUP BY cours_id) AS sub);
    ``` -->

---

**Temps d'√©change tout au long du TP**

Prenez un moment pour discuter avec vos camarades des diff√©rentes m√©thodes que vous avez utilis√©es et de leurs avantages. Posez des questions √† votre professeur si vous avez des doutes ou si vous souhaitez des clarifications. 

Continuez √† explorer et √† poser des questions ! üß†üöÄ